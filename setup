#!/bin/bash

DIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )

echo "source $HOME/.dotfiles/.profile" >> $HOME/.bashrc

# ===== Version Managers

curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.36.0/install.sh | bash

# ===== Sources

sources=(tmux.conf profile);

# sources

for i in "${sources[@]}"; do
  if [ -e ~/.$i ]
  then
    echo "error file .$i exists";
  else
    echo "writing .$i";
    echo "source ${DIR}/.$i" > ~/.$i;
  fi
done

# symlinks
declare -A symlinks

symlinks['alacritty.yml']='~/.config/alacritty'

for symlink in "${symlinks[@]}"; do
  if [ -e ~/.$symlink ]
  then
    echo "error file .$symlink exists";
  else
    echo "symlinking .$symlink";
    ln -s ${DIR}/.$symlink ${symlinks[$symlink]}/.$symlink;
  fi
done

